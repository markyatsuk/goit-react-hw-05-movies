"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[438],{375:function(t,e,r){r.d(e,{V:function(){return u}});var n=r(8214),a=r(5861),s=r(5671),c=r(3144),i=r(4569).default,u=function(){function t(){(0,s.Z)(this,t),this.BASE_URL="https://api.themoviedb.org",this.KEY="?api_key=704271a1143bfd554df4b5f395de669f",this.searchQuery="",this.URL_BY_ID="https://api.themoviedb.org"}return(0,c.Z)(t,[{key:"fetchFilms",value:function(){var t=(0,a.Z)((0,n.Z)().mark((function t(){var e;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.get("".concat(this.BASE_URL,"/3/movie/popular").concat(this.KEY));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"fetchMoviesById",value:function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e){var r;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.get("".concat(this.URL_BY_ID,"/3/movie/").concat(e).concat(this.KEY));case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"fetchMoviesByName",value:function(){var t=(0,a.Z)((0,n.Z)().mark((function t(){var e;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.get("".concat(this.BASE_URL,"/3/search/movie").concat(this.KEY,"&query=").concat(this.searchQuery));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"fetchCastById",value:function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e){var r;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.get("".concat(this.BASE_URL,"/3/movie/").concat(e,"/credits").concat(this.KEY));case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"fetchReviewById",value:function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e){var r;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.get("".concat(this.BASE_URL,"/3/movie/").concat(e,"/reviews").concat(this.KEY));case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"query",get:function(){return this.searchQuery},set:function(t){this.searchQuery=t}}]),t}()},9340:function(t,e,r){r.d(e,{p:function(){return c},t:function(){return i}});var n=r(3504),a=r(4767),s=r(184);function c(t){var e=t.films;t.query;return(0,s.jsx)("ul",{children:e.map((function(t){var e=t.original_title,r=t.id;return(0,s.jsx)("li",{children:(0,s.jsx)(n.rU,{to:"movies/".concat(r),className:a.Z.film,state:{pathname:"/"},children:e})},r)}))})}function i(t){var e=t.films,r=t.query;return(0,s.jsx)("ul",{children:e.map((function(t){var e=t.original_title,c=t.id;return(0,s.jsx)("li",{children:(0,s.jsx)(n.rU,{to:"".concat(c),className:a.Z.film,state:{pathname:"/movies?query=".concat(r)},children:e})},c)}))})}},2438:function(t,e,r){r.r(e),r.d(e,{default:function(){return m}});var n=r(8152),a=r(2791),s=r(6871),c=r(8494),i=r(375),u=r(9340),o=r(5562),h=r.n(o),f=r(184),l=new i.V;function m(t){var e=t.handleSearchValue,r=(0,s.TH)(),i=(0,s.s0)(),o=(0,a.useState)(""),m=(0,n.Z)(o,2),v=m[0],p=m[1],d=(0,a.useState)(null),_=(0,n.Z)(d,2),y=_[0],x=_[1],Z=(0,a.useState)("idle"),g=(0,n.Z)(Z,2),w=g[0],k=g[1];return(0,a.useEffect)((function(){if(r.search&&!y){var t=new URLSearchParams(r.search).get("query");p(t),l.query=t,l.fetchMoviesByName().then((function(t){var e=t.data;e.results.length>0&&(x(e.results),k("resolved"))}))}}),[r.search,y]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("form",{className:"SearchForm",id:"search-form",onSubmit:function(t){t.preventDefault(),v.trim()?(e(v),l.query=v.trim(),l.fetchMoviesByName().then((function(t){var e=t.data;e.results.length>0&&(x(e.results),k("resolved"),i("?query=".concat(v)))}))):h().Notify.warning("Enter a correct requeest")},children:[(0,f.jsx)("button",{type:"submit",className:"SearchForm-button",children:(0,f.jsx)(c.Yfv,{})}),(0,f.jsx)("input",{className:"search-form__input",type:"text",name:"query",autoComplete:"off",placeholder:"Search images and photos",onChange:function(t){p(t.currentTarget.value.toLowerCase().trim())}})]}),"resolved"===w&&(0,f.jsx)(u.t,{films:y,query:v})]})}},4767:function(t,e){e.Z={film:"RenderFilms_film__g0On8",castList:"RenderFilms_castList__y1Sy2",castItem:"RenderFilms_castItem__xt9Z1",castPhoto:"RenderFilms_castPhoto__d7+qQ",castImg:"RenderFilms_castImg__05Ak4",castInfo:"RenderFilms_castInfo__lt9X9"}}}]);
//# sourceMappingURL=438.dfeb60cd.chunk.js.map